import{B as p,C as F,D as b,E as y,A as H,G as Y,P as l}from"./ecStat.d529756a.js";import{a4 as w,S as M,i as h,s as g,k as o,$ as u,l as C,m as R,a0 as d,h as a,n as i,b as P,D as O,C as L,q as D,r as c}from"./index.95dbb1e2.js";const x="customFormattingSettings";function B(e,...t){if(typeof e=="function")throw new Error("You must supply the data as the first argument to tidy()");let E=e;for(const r of t)r&&(E=r(E));return E}function G(e){return E=>{const r=[];for(const T of E){const I={...T};for(const n in e){const s=e[n],N=typeof s=="function"?s(I):s;I[n]=N}r.push(I)}return r}}function S(e){if(e&&typeof e=="string"){let t=e.split(" ");e.includes(":")||(e=e+"T00:00:00"),t.length>2&&(e=t[0]+" "+t[1]);const E=/\.([^\s]+)/;e=e.replace(E,""),e=e.replace("Z",""),e=e.replace(" ","T")}return e}function j(e,t){return e=B(e,G({[t]:E=>E[t]?new Date(S(E[t])):null})),e}function q(e,t){return e=B(e,G({[t]:E=>S(E[t])})),e}const _="axis",A="value",m=()=>{var e;return((e=w(x))==null?void 0:e.getCustomFormats())||[]},J=(e,t,E)=>{let r=K(e);if(t.evidenceType==="string")return;if(r){let I=m(),n=[...p,...I].find(s=>{var N;return((N=s.formatTag)==null?void 0:N.toLowerCase())===(r==null?void 0:r.toLowerCase())});if(n)return n}let T=F(e,t,E);if(T)return T};function $(e,t=void 0){let E=e,r=m(),T=[...p,...r].find(n=>{var s;return((s=n.formatTag)==null?void 0:s.toLowerCase())===(E==null?void 0:E.toLowerCase())}),I={};return T||(I={formatTag:"custom",formatCode:E},t&&(I.valueType=t),I)}const ee=(e,t=void 0,E=void 0)=>{try{return f(e,t,E,A)}catch(r){return console.warn(`Unexpected error calling applyFormatting(${e}, ${t}, ${A}, ${E}). Error=${r}`),e}},te=(e,t=void 0,E=void 0)=>{try{return f(e,t,E,_)}catch{}return e},Ee=(e,t)=>{let E=e;if(e&&(t!=null&&t.formatTag)){let r=e.toLowerCase().lastIndexOf(`_${t.formatTag.toLowerCase()}`),T="";r>0&&(typeof(t==null?void 0:t.titleTagReplacement)=="string"&&(T=t.titleTagReplacement),E=e.substring(0,r)+T)}return E},V=e=>{switch(e){case"number":return 1234;case"date":return"2022-01-03";default:return}},re=e=>{var r,T;let E=((r=e.userInput)==null?void 0:r.trim())||e.exampleInput||V(e.valueType);if(E)try{let I;if(e.valueType==="number"){let n=Number(E);I={min:n,max:n,median:n,maxDecimals:((T=n.toString().split(".")[1])==null?void 0:T.length)||0,unitType:"number"}}return f(E,e,I,A)}catch{}return""};function f(e,t=void 0,E=void 0,r=A){if(e==null)return"-";let T;if(t)try{let I=X(t,r),n;try{t.valueType==="date"&&typeof e=="string"?n=new Date(S(e)):t.valueType==="number"&&typeof e!="number"&&!Number.isNaN(e)?n=Number(e):n=e}catch{n=e}if(b(t,I))try{T=y(n,t,E)}catch(s){console.warn(`Unexpected error applying auto formatting. Error=${s}`)}else T=H.format(I,n)}catch(I){console.warn(`Unexpected error applying formatting ${I}`)}return T===void 0&&(T=Y(e)),T}function X(e,t=A){return typeof e=="string"?e:t===_&&(e!=null&&e.axisFormatCode)?e.axisFormatCode:e==null?void 0:e.formatCode}function K(e){let t=e.toLowerCase(),E=t.lastIndexOf("_");if(E>0)return t.substr(E).replace("_","")}function W(e){let t,E,r;return{c(){t=o("span"),E=u("svg"),r=u("path"),this.h()},l(T){t=C(T,"SPAN",{"aria-expanded":!0,class:!0});var I=R(t);E=d(I,"svg",{viewBox:!0,width:!0,height:!0,class:!0});var n=R(E);r=d(n,"path",{fill:!0,"fill-rule":!0,d:!0}),R(r).forEach(a),n.forEach(a),I.forEach(a),this.h()},h(){i(r,"fill",e[1]),i(r,"fill-rule","evenodd"),i(r,"d","M6.22 3.22a.75.75 0 011.06 0l4.25 4.25a.75.75 0 010 1.06l-4.25 4.25a.75.75 0 01-1.06-1.06L9.94 8 6.22 4.28a.75.75 0 010-1.06z"),i(E,"viewBox","0 0 16 16"),i(E,"width",e[2]),i(E,"height",e[2]),i(E,"class","svelte-c6mrxw"),i(t,"aria-expanded",e[0]),i(t,"class","svelte-c6mrxw")},m(T,I){P(T,t,I),O(t,E),O(E,r)},p(T,[I]){I&2&&i(r,"fill",T[1]),I&4&&i(E,"width",T[2]),I&4&&i(E,"height",T[2]),I&1&&i(t,"aria-expanded",T[0])},i:L,o:L,d(T){T&&a(t)}}}function v(e,t,E){let{toggled:r=!1}=t,{color:T="#2d2d2d"}=t,{size:I=10}=t;return e.$$set=n=>{"toggled"in n&&E(0,r=n.toggled),"color"in n&&E(1,T=n.color),"size"in n&&E(2,I=n.size)},[r,T,I]}class Te extends M{constructor(t){super(),h(this,t,v,W,g,{toggled:0,color:1,size:2})}}const U={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:--|\/\/|#).*)/,lookbehind:!0},variable:[{pattern:/@(["'`])(?:\\[\s\S]|(?!\1)[^\\])+\1/,greedy:!0},/@[\w.$]+/],string:{pattern:/(^|[^@\\])("|')(?:\\[\s\S]|(?!\2)[^\\]|\2\2)*\2/,greedy:!0,lookbehind:!0},identifier:{pattern:/(^|[^@\\])`(?:\\[\s\S]|[^`\\]|``)*`/,greedy:!0,lookbehind:!0,inside:{punctuation:/^`|`$/}},function:/\b(?:AVG|COUNT|FIRST|FORMAT|LAST|LCASE|LEN|MAX|MID|MIN|MOD|NOW|ROUND|SUM|UCASE)(?=\s*\()/i,keyword:/\b(?:ACTION|ADD|AFTER|ALGORITHM|ALL|ALTER|ANALYZE|ANY|APPLY|AS|ASC|AUTHORIZATION|AUTO_INCREMENT|BACKUP|BDB|BEGIN|BERKELEYDB|BIGINT|BINARY|BIT|BLOB|BOOL|BOOLEAN|BREAK|BROWSE|BTREE|BULK|BY|CALL|CASCADED?|CASE|CHAIN|CHAR(?:ACTER|SET)?|CHECK(?:POINT)?|CLOSE|CLUSTERED|COALESCE|COLLATE|COLUMNS?|COMMENT|COMMIT(?:TED)?|COMPUTE|CONNECT|CONSISTENT|CONSTRAINT|CONTAINS(?:TABLE)?|CONTINUE|CONVERT|CREATE|CROSS|CURRENT(?:_DATE|_TIME|_TIMESTAMP|_USER)?|CURSOR|CYCLE|DATA(?:BASES?)?|DATE(?:TIME)?|DAY|DBCC|DEALLOCATE|DEC|DECIMAL|DECLARE|DEFAULT|DEFINER|DELAYED|DELETE|DELIMITERS?|DENY|DESC|DESCRIBE|DETERMINISTIC|DISABLE|DISCARD|DISK|DISTINCT|DISTINCTROW|DISTRIBUTED|DO|DOUBLE|DROP|DUMMY|DUMP(?:FILE)?|DUPLICATE|ELSE(?:IF)?|ENABLE|ENCLOSED|END|ENGINE|ENUM|ERRLVL|ERRORS|ESCAPED?|EXCEPT|EXEC(?:UTE)?|EXISTS|EXIT|EXPLAIN|EXTENDED|FETCH|FIELDS|FILE|FILLFACTOR|FIRST|FIXED|FLOAT|FOLLOWING|FOR(?: EACH ROW)?|FORCE|FOREIGN|FREETEXT(?:TABLE)?|FROM|FULL|FUNCTION|GEOMETRY(?:COLLECTION)?|GLOBAL|GOTO|GRANT|GROUP|HANDLER|HASH|HAVING|HOLDLOCK|HOUR|IDENTITY(?:COL|_INSERT)?|IF|IGNORE|IMPORT|INDEX|INFILE|INNER|INNODB|INOUT|INSERT|INT|INTEGER|INTERSECT|INTERVAL|INTO|INVOKER|ISOLATION|ITERATE|JOIN|KEYS?|KILL|LANGUAGE|LAST|LEAVE|LEFT|LEVEL|LIMIT|LINENO|LINES|LINESTRING|LOAD|LOCAL|LOCK|LONG(?:BLOB|TEXT)|LOOP|MATCH(?:ED)?|MEDIUM(?:BLOB|INT|TEXT)|MERGE|MIDDLEINT|MINUTE|MODE|MODIFIES|MODIFY|MONTH|MULTI(?:LINESTRING|POINT|POLYGON)|NATIONAL|NATURAL|NCHAR|NEXT|NO|NONCLUSTERED|NULLIF|NUMERIC|OFF?|OFFSETS?|ON|OPEN(?:DATASOURCE|QUERY|ROWSET)?|OPTIMIZE|OPTION(?:ALLY)?|ORDER|OUT(?:ER|FILE)?|OVER|PARTIAL|PARTITION|PERCENT|PIVOT|PLAN|POINT|POLYGON|PRECEDING|PRECISION|PREPARE|PREV|PRIMARY|PRINT|PRIVILEGES|PROC(?:EDURE)?|PUBLIC|PURGE|QUICK|RAISERROR|READS?|REAL|RECONFIGURE|REFERENCES|RELEASE|RENAME|REPEAT(?:ABLE)?|REPLACE|REPLICATION|REQUIRE|RESIGNAL|RESTORE|RESTRICT|RETURN(?:ING|S)?|REVOKE|RIGHT|ROLLBACK|ROUTINE|ROW(?:COUNT|GUIDCOL|S)?|RTREE|RULE|SAVE(?:POINT)?|SCHEMA|SECOND|SELECT|SERIAL(?:IZABLE)?|SESSION(?:_USER)?|SET(?:USER)?|SHARE|SHOW|SHUTDOWN|SIMPLE|SMALLINT|SNAPSHOT|SOME|SONAME|SQL|START(?:ING)?|STATISTICS|STATUS|STRIPED|SYSTEM_USER|TABLES?|TABLESPACE|TEMP(?:ORARY|TABLE)?|TERMINATED|TEXT(?:SIZE)?|THEN|TIME(?:STAMP)?|TINY(?:BLOB|INT|TEXT)|TOP?|TRAN(?:SACTIONS?)?|TRIGGER|TRUNCATE|TSEQUAL|TYPES?|UNBOUNDED|UNCOMMITTED|UNDEFINED|UNION|UNIQUE|UNLOCK|UNPIVOT|UNSIGNED|UPDATE(?:TEXT)?|USAGE|USE|USER|USING|VALUES?|VAR(?:BINARY|CHAR|CHARACTER|YING)|VIEW|WAITFOR|WARNINGS|WHEN|WHERE|WHILE|WITH(?: ROLLUP|IN)?|WORK|WRITE(?:TEXT)?|YEAR)\b/i,boolean:/\b(?:FALSE|NULL|TRUE)\b/i,number:/\b0x[\da-f]+\b|\b\d+(?:\.\d*)?|\B\.\d+\b/i,operator:/[-+*/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?|\b(?:AND|BETWEEN|DIV|ILIKE|IN|IS|LIKE|NOT|OR|REGEXP|RLIKE|SOUNDS LIKE|XOR)\b/i,punctuation:/[;[\]()`,.]/};function z(e){let t,E,r,T=l.highlight(e[0],U)+"",I;return{c(){t=o("pre"),E=D("  "),r=o("code"),I=D(`
`),this.h()},l(n){t=C(n,"PRE",{class:!0});var s=R(t);E=c(s,"  "),r=C(s,"CODE",{class:!0});var N=R(r);N.forEach(a),I=c(s,`
`),s.forEach(a),this.h()},h(){i(r,"class","language-sql svelte-isi8vj"),i(t,"class","text-sm max-h-56 overflow-auto svelte-isi8vj")},m(n,s){P(n,t,s),O(t,E),O(t,r),r.innerHTML=T,O(t,I)},p(n,[s]){s&1&&T!==(T=l.highlight(n[0],U)+"")&&(r.innerHTML=T)},i:L,o:L,d(n){n&&a(t)}}}function k(e,t,E){let{code:r=""}=t;return e.$$set=T=>{"code"in T&&E(0,r=T.code)},[r]}class ne extends M{constructor(t){super(),h(this,t,k,z,g,{code:0})}}export{Te as C,ne as P,Ee as a,te as b,j as c,x as d,re as e,ee as f,$ as g,V as h,J as l,G as m,q as s,B as t};
